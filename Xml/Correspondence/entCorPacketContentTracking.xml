<?xml version="1.0" encoding="utf-8"?>
<entity ID="entCorPacketContentTracking" sfwMainCDO="icdoCorPacketContentTracking" sfwType="BusinessRule" sfwActive="True" sfwStatus="Review" sfwObjectID="busCorPacketContentTracking" sfwTableName="sgs_cor_packet_content_tracking" sfwView="False" sfwDataObjectID="doCorPacketContentTracking">
  <queries>
    <query ID="LookUp" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="select * from sgs_cor_packet_content_tracking ">
      <parameters />
    </query>
    <query ID="GetCorPacketContentTracking" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql=" SELECT * FROM SGS_COR_PACKET_CONTENT_TRACKING WHERE TRACKING_ID = @TRACKING_ID">
      <parameters>
        <parameter ID="@TRACKING_ID" sfwDataType="int" />
      </parameters>
    </query>
    <query ID="PendingPaymentCycleLookup" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="SELECT DISTINCT&#xD;&#xA;&#x9;&#x9;PART.MPI_PERSON_ID AS MPID, ISNULL(PART.LAST_NAME,'')+','+ISNULL(PART.FIRST_NAME,'') AS NAME&#xD;&#xA;&#x9;&#x9;, CV4.DESCRIPTION AS RETIREMENT_TYPE &#xD;&#xA;&#x9;&#x9;, PACKET.RETIREMENT_DATE&#xD;&#xA;&#x9;&#x9;, PACKET.PLAN_CODE&#xD;&#xA;&#x9;&#x9;, BA.BENEFIT_APPLICATION_ID AS APPID&#xD;&#xA;&#x9;&#x9;, CASE WHEN BA.BENEFIT_TYPE_VALUE = 'WDRL' THEN BA.WITHDRAWAL_DATE ELSE BA.RETIREMENT_DATE END AS APP_RETIREMENT_DATE&#xD;&#xA;&#x9;&#x9;, BA.CREATED_DATE AS APP_CREATED_DATE&#xD;&#xA;&#x9;&#x9;, BA.CREATED_BY AS APP_CREATED_BY&#xD;&#xA;&#x9;&#x9;, BA.MODIFIED_BY AS APP_MODIFIED_BY&#xD;&#xA;&#x9;&#x9;, APPST.DESCRIPTION AS APP_STATUS&#xD;&#xA;&#x9;&#x9;, CH.CREATED_DATE AS CALC_CREATED_DATE, CH.CREATED_BY AS CALC_CREATED_BY, CH.MODIFIED_DATE AS CALC_MODIFIED_DATE, CH.MODIFIED_BY AS CALC_MODIFIED_BY&#xD;&#xA;&#x9;&#x9;, PA.CREATED_DATE AS PA_CREATED_DATE, PA.CREATED_BY AS PA_CREATED_BY&#xD;&#xA;&#x9;&#x9;, PA.VERIFIED_DATE AS PA_VERIFIED_DATE, PA.VERIFIED_BY AS PA_VERIFIED_BY&#xD;&#xA;&#x9;&#x9;, PAST.DESCRIPTION AS PA_STATUS, PAS.MODIFIED_DATE AS STATUS_DATE, PAS.MODIFIED_BY AS STATUS_BY&#xD;&#xA;&#x9;&#x9;,PASS.STATUS_VALUE AS STATUS_VALUE &#xD;&#xA;&#x9;&#x9;,PASS.MODIFIED_BY AS PASAPRDBY &#xD;&#xA;&#x9;&#x9;,SU.USER_SERIAL_ID AS ANALYST_ID&#xD;&#xA;&#x9;   ,(SU.FIRST_NAME + ' ' + SU.LAST_NAME) ANALYSTNAME &#xD;&#xA;FROM &#xD;&#xA;(SELECT DISTINCT &#xD;&#xA;PT.RECEIVED_DATE, PT.BENEFIT_CALCULATION_HEADER_ID, PT.TRACKING_ID, TEMP.TEMPLATE_NAME, &#xD;&#xA;TEMP.TEMPLATE_DESC, TRAC.TEMPLATE_ID, TRAC.PERSON_ID &#xD;&#xA;, CH0.BENEFIT_TYPE_ID, CH0.BENEFIT_TYPE_VALUE &#xD;&#xA;, CH0.PAYMENT_DATE, CD0.BENEFIT_SUBTYPE_VALUE, CD0.PLAN_ID, PL0.PLAN_CODE&#xD;&#xA;, CASE WHEN CH0.BENEFIT_TYPE_VALUE = 'DSBL' THEN CH0.PAYMENT_DATE ELSE CH0.RETIREMENT_DATE END AS RETIREMENT_DATE&#xD;&#xA;FROM SGS_COR_TRACKING TRAC&#xD;&#xA;INNER JOIN SGS_COR_TEMPLATES TEMP ON TRAC.TEMPLATE_ID = TEMP.TEMPLATE_ID AND TEMP.TEMPLATE_TYPE_VALUE = 'PCKT' AND TEMP.TEMPLATE_DESC LIKE '%App%'&#xD;&#xA;INNER JOIN SGS_COR_PACKET_CONTENT_TRACKING PT ON TRAC.TRACKING_ID = PT.TRACKING_ID&#xD;&#xA;LEFT OUTER JOIN SGT_BENEFIT_CALCULATION_HEADER CH0 ON PT.BENEFIT_CALCULATION_HEADER_ID = CH0.BENEFIT_CALCULATION_HEADER_ID&#xD;&#xA;LEFT OUTER JOIN SGT_BENEFIT_CALCULATION_DETAIL CD0 ON CH0.BENEFIT_CALCULATION_HEADER_ID = CD0.BENEFIT_CALCULATION_HEADER_ID&#xD;&#xA;LEFT OUTER JOIN SGT_PLAN PL0 ON CD0.PLAN_ID = PL0.PLAN_ID &#xD;&#xA;WHERE PT.RECEIVED_DATE IS NOT NULL AND PT.PACKET_STATUS_VALUE = 'CMPL' &#xD;&#xA;AND CH0.BENEFIT_TYPE_VALUE IN ('RTMT','DSBL','WDRL')&#xD;&#xA;) PACKET&#xD;&#xA;INNER JOIN OPUS.DBO.SGT_PERSON PART ON PACKET.PERSON_ID = PART.PERSON_ID --*Packet Join*&#xD;&#xA;LEFT OUTER JOIN (SELECT BA1.PERSON_ID, BA1.BENEFIT_APPLICATION_ID, BAD1.BENEFIT_APPLICATION_DETAIL_ID, BAD1.PLAN_BENEFIT_ID, PL1.PLAN_CODE&#xD;&#xA;&#x9;&#x9;, BA1.BENEFIT_TYPE_VALUE, BA1.WITHDRAWAL_DATE, BA1.RETIREMENT_DATE&#xD;&#xA;&#x9;&#x9;, BA1.CREATED_DATE, BA1.CREATED_BY, BA1.MODIFIED_BY &#xD;&#xA;&#x9;&#x9;, BA1.APPLICATION_STATUS_ID, BA1.APPLICATION_STATUS_VALUE &#xD;&#xA;&#x9;FROM SGT_BENEFIT_APPLICATION BA1 &#xD;&#xA;&#x9;INNER JOIN SGT_BENEFIT_APPLICATION_DETAIL BAD1 ON BA1.BENEFIT_APPLICATION_ID = BAD1.BENEFIT_APPLICATION_ID&#xD;&#xA;&#x9;INNER JOIN SGT_PLAN_BENEFIT_XR PB1 ON BAD1.PLAN_BENEFIT_ID = PB1.PLAN_BENEFIT_ID&#xD;&#xA;&#x9;INNER JOIN SGT_PLAN PL1 ON PB1.PLAN_ID = PL1.PLAN_ID&#xD;&#xA;) BA ON PACKET.PERSON_ID = BA.PERSON_ID AND PACKET.BENEFIT_TYPE_VALUE = BA.BENEFIT_TYPE_VALUE AND PACKET.PLAN_CODE = BA.PLAN_CODE --*Packet Join*&#xD;&#xA;LEFT OUTER JOIN SGS_CODE_VALUE CV4 ON PACKET.BENEFIT_TYPE_ID = CV4.CODE_ID AND PACKET.BENEFIT_TYPE_VALUE = CV4.CODE_VALUE  --*Packet Join*&#xD;&#xA;LEFT OUTER JOIN SGS_CODE_VALUE APPST ON BA.APPLICATION_STATUS_ID = APPST.CODE_ID AND BA.APPLICATION_STATUS_VALUE = APPST.CODE_VALUE&#xD;&#xA;LEFT OUTER JOIN (SELECT CD1.BENEFIT_APPLICATION_DETAIL_ID, CH1.* FROM SGT_BENEFIT_CALCULATION_HEADER CH1 INNER JOIN SGT_BENEFIT_CALCULATION_DETAIL CD1 ON CH1.BENEFIT_CALCULATION_HEADER_ID = CD1.BENEFIT_CALCULATION_HEADER_ID AND ISNULL(CH1.STATUS_VALUE,'') &lt;&gt; 'CANC') CH ON BA.BENEFIT_APPLICATION_DETAIL_ID = CH.BENEFIT_APPLICATION_DETAIL_ID&#xD;&#xA;LEFT OUTER JOIN OPUS.DBO.SGT_PAYEE_ACCOUNT PA ON BA.BENEFIT_APPLICATION_DETAIL_ID = PA.BENEFIT_APPLICATION_DETAIL_ID&#xD;&#xA;LEFT OUTER JOIN OPUS.DBO.SGT_PAYEE_ACCOUNT_STATUS PAS ON PA.PAYEE_ACCOUNT_ID = PAS.PAYEE_ACCOUNT_ID AND PAS.PAYEE_ACCOUNT_STATUS_ID = (SELECT MAX(PAYEE_ACCOUNT_STATUS_ID) FROM SGT_PAYEE_ACCOUNT_STATUS WHERE PAYEE_ACCOUNT_ID = PA.PAYEE_ACCOUNT_ID)&#xD;&#xA;LEFT OUTER JOIN OPUS.DBO.SGT_PAYEE_ACCOUNT_STATUS PASS ON PA.PAYEE_ACCOUNT_ID = PASS.PAYEE_ACCOUNT_ID AND PASS.PAYEE_ACCOUNT_STATUS_ID = (SELECT Max(PAYEE_ACCOUNT_STATUS_ID) FROM SGT_PAYEE_ACCOUNT_STATUS WHERE PAYEE_ACCOUNT_ID = PA.PAYEE_ACCOUNT_ID AND STATUS_VALUE='APRD') &#xD;&#xA;LEFT OUTER JOIN SGS_CODE_VALUE PAST ON PAS.STATUS_ID = PAST.CODE_ID AND PAS.STATUS_VALUE = PAST.CODE_VALUE&#xD;&#xA;LEFT OUTER JOIN SGS_USER SU ON SU.USER_SERIAL_ID = (SELECT TOP 1 ANALYST_ID FROM SGT_PERSON_CASE_ANALYST WHERE PERSON_ID = PART.PERSON_ID&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ORDER BY CREATED_DATE DESC)">
      <parameters />
    </query>
    <query ID="GetPendingPaymentCycleRetirementTypes" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql=" SELECT CODE_VALUE, DESCRIPTION FROM SGS_CODE_VALUE WHERE CODE_ID = 1502 AND CODE_VALUE IN ('RTMT','DSBL','WDRL')">
      <parameters />
    </query>
    <query ID="GetPendingPaymentCyclePlanCodes" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql=" SELECT PLAN_ID, PLAN_CODE FROM SGT_PLAN WHERE PLAN_ID &lt; 9">
      <parameters />
    </query>
  </queries>
  <attributes>
    <attribute sfwValue="cor_packet_content_tracking_id" sfwType="Column" sfwKeyNo="1" sfwIsIdentity="True" sfwDataType="int" sfwDBDataType="int" sfwIsNull="False" ID="CorPacketContentTrackingId" sfwCaption="ID" />
    <attribute sfwValue="cor_packet_content_id" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="False" ID="CorPacketContentId" sfwCaption="Cor Packet Content Id" />
    <attribute sfwValue="tracking_id" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="False" ID="TrackingId" sfwCaption="Tracking Id" />
    <attribute sfwValue="mailed_by" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="50" sfwIsNull="True" ID="MailedBy" sfwCaption="Mailed By" />
    <attribute sfwValue="mailed_date" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="datetime" sfwDBDataType="datetime" sfwIsNull="True" ID="MailedDate" sfwCaption="Mailed Date" />
    <attribute sfwValue="received_by" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="50" sfwIsNull="True" ID="ReceivedBy" sfwCaption="Received By" />
    <attribute sfwValue="received_date" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="datetime" sfwDBDataType="datetime" sfwIsNull="True" ID="ReceivedDate" sfwCaption="Received Date" />
    <attribute sfwValue="benefit_appicaltion_id" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="True" ID="BenefitAppicaltionId" sfwCaption="Benefit Appicaltion Id" />
    <attribute sfwValue="benefit_calculation_header_id" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="True" ID="BenefitCalculationHeaderId" sfwCaption="Benefit Calculation Header Id" />
    <attribute sfwValue="qdro_appicaltion_id" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="True" ID="QdroAppicaltionId" sfwCaption="Qdro Appicaltion Id" />
    <attribute sfwValue="qdro_calculation_header_id" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="True" ID="QdroCalculationHeaderId" sfwCaption="Qdro Calculation Header Id" />
    <attribute sfwValue="retirement_date" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="datetime" sfwDBDataType="datetime" sfwIsNull="True" ID="RetirementDate" sfwCaption="Retirement Date" />
    <attribute sfwType="Description" ID="PacketStatusDescription" sfwCaption="Packet Status" sfwValue="packet_status_description" />
    <attribute sfwValue="packet_status_id" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="True" ID="PacketStatusId" sfwCodeID="7094" sfwCaption="Packet Status" />
    <attribute sfwValue="packet_status_value" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="4" sfwIsNull="True" ID="PacketStatusValue" sfwCaption="Packet Status" />
    <attribute sfwValue="notes" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="4096" sfwIsNull="True" ID="Notes" sfwCaption="Notes" />
    <attribute sfwValue="created_by" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="50" sfwIsNull="False" ID="CreatedBy" sfwCaption="Created By" />
    <attribute sfwValue="created_date" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="datetime" sfwDBDataType="datetime" sfwIsNull="False" ID="CreatedDate" sfwCaption="Created Date" />
    <attribute sfwValue="modified_by" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="50" sfwIsNull="False" ID="ModifiedBy" sfwCaption="Modified By" />
    <attribute sfwValue="modified_date" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="datetime" sfwDBDataType="datetime" sfwIsNull="False" ID="ModifiedDate" sfwCaption="Modified Date" />
    <attribute sfwValue="update_seq" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="False" ID="UpdateSeq" sfwCaption="Update Seq" />
    <attribute sfwValue="access_template_name" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="2000" sfwIsNull="True" ID="AccessTemplateName" sfwCaption="Access Template Name" />
    <attribute sfwValue="access_paket_status" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="50" sfwIsNull="True" ID="AccessPaketStatus" sfwCaption="Access Paket Status" />
    <attribute sfwValue="access_monthly_cycle" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="datetime" sfwDBDataType="datetime" sfwIsNull="True" ID="AccessMonthlyCycle" sfwCaption="Access Monthly Cycle" />
    <attribute sfwValue="access_plan" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="50" sfwIsNull="True" ID="AccessPlan" sfwCaption="Access Plan" />
    <attribute sfwType="Collection" sfwEntity="entCorPacketContentTrackingHistory" ID="lstCorPacketContentTrackingHistory" sfwValue="iclbCorPacketContentTrackingHistory" />
    <attribute sfwDataType="string" sfwType="Property" ID="ANALYSTNAME" sfwValue="icdoCorPacketContentTracking.ANALYSTNAME" />
    <attribute sfwDataType="string" sfwType="Property" ID="MPID" sfwValue="icdoCorPacketContentTracking.MPID" />
    <attribute sfwDataType="string" sfwType="Property" ID="NAME" sfwValue="icdoCorPacketContentTracking.NAME" />
    <attribute sfwDataType="string" sfwType="Property" ID="RETIREMENTTYPE" sfwValue="icdoCorPacketContentTracking.RETIREMENT_TYPE" />
    <attribute sfwDataType="string" sfwType="Property" ID="PLANCODE" sfwValue="icdoCorPacketContentTracking.PLAN_CODE" />
    <attribute sfwDataType="datetime" sfwType="Property" ID="APPRETIREMENDATE" sfwValue="icdoCorPacketContentTracking.APP_RETIREMEN_DATE" />
    <attribute sfwDataType="datetime" sfwType="Property" ID="APPCREATEDDATE" sfwValue="icdoCorPacketContentTracking.APP_CREATED_DATE" />
    <attribute sfwDataType="string" sfwType="Property" ID="APPCREATEDBY" sfwValue="icdoCorPacketContentTracking.APP_CREATED_BY" />
    <attribute sfwDataType="string" sfwType="Property" ID="APPMODIFIEDBY" sfwValue="icdoCorPacketContentTracking.APP_MODIFIED_BY" />
    <attribute sfwDataType="string" sfwType="Property" ID="APPSTATUS" sfwValue="icdoCorPacketContentTracking.APP_STATUS" />
    <attribute sfwDataType="string" sfwType="Property" ID="CALCCREATEDBY" sfwValue="icdoCorPacketContentTracking.CALC_CREATED_BY" />
    <attribute sfwDataType="datetime" sfwType="Property" ID="CALCCREATEDDATE" sfwValue="icdoCorPacketContentTracking.CALC_CREATED_DATE" />
    <attribute sfwDataType="string" sfwType="Property" ID="CALCMODIFIEDBY" sfwValue="icdoCorPacketContentTracking.CALC_MODIFIED_BY" />
    <attribute sfwDataType="datetime" sfwType="Property" ID="CALCMODIFIEDDATE" sfwValue="icdoCorPacketContentTracking.CALC_MODIFIED_DATE" />
    <attribute sfwDataType="string" sfwType="Property" ID="PACREATEDBY" sfwValue="icdoCorPacketContentTracking.PA_CREATED_BY" />
    <attribute sfwDataType="datetime" sfwType="Property" ID="PACREATEDDATE" sfwValue="icdoCorPacketContentTracking.PA_CREATED_DATE" />
    <attribute sfwDataType="string" sfwType="Property" ID="PASTATUS" sfwValue="icdoCorPacketContentTracking.PA_STATUS" />
    <attribute sfwDataType="string" sfwType="Property" ID="STATUSBY" sfwValue="icdoCorPacketContentTracking.STATUS_BY" />
    <attribute sfwDataType="datetime" sfwType="Property" ID="STATUSDATE" sfwValue="icdoCorPacketContentTracking.STATUS_DATE" />
    <attribute sfwDataType="string" sfwType="Property" ID="PAVERIFIEDBY" sfwValue="icdoCorPacketContentTracking.PA_VERIFIED_BY" />
    <attribute sfwDataType="datetime" sfwType="Property" ID="PAVERIFIEDDATE" sfwValue="icdoCorPacketContentTracking.PA_VERIFIED_DATE" />
    <attribute sfwDataType="string" sfwType="Property" ID="PASAPRDBY" sfwValue="icdoCorPacketContentTracking.PASAPRDBY" />
    <attribute sfwDataType="string" sfwType="Property" ID="TEMPLATEDESC" sfwValue="icdoCorPacketContentTracking.TEMPLATE_DESC" />
    <attribute sfwDataType="string" sfwType="Property" ID="EMAILADDRESS1" sfwValue="icdoCorPacketContentTracking.EMAIL_ADDRESS_1" />
    <attribute sfwDataType="string" sfwType="Property" ID="CELLPHONENO" sfwValue="icdoCorPacketContentTracking.CELL_PHONE_NO" />
  </attributes>
</entity>