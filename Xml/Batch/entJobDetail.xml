<?xml version="1.0" encoding="utf-8"?>
<entity ID="entJobDetail" sfwActive="True" sfwStatus="Valid" sfwType="BusinessRule" sfwMainCDO="icdoJobDetail" sfwObjectID="busJobDetail" sfwTableName="sgs_job_detail" sfwView="False" sfwDataObjectID="doJobDetail">
  <rules />
  <delete>
    <property ID="lstJobParameters" />
  </delete>
  <checklist />
  <initialload />
  <softerror />
  <harderror />
  <validatedelete />
  <updateablecdo />
  <queries>
    <query ID="GetJobStepsForHeaderId" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="Select SJD.Step_No from &#xD;&#xA; SGS_Job_Detail SJD (nolock)&#xD;&#xA; Join SGS_Batch_Schedule SBS (nolock)&#xD;&#xA; on (SJD.Step_No = SBS.Step_No)&#xD;&#xA;Where Job_Header_Id = @Job_Header_Id&#xD;&#xA;Order by Order_No&#xD;&#xA;">
      <parameters>
        <parameter ID="@Job_Header_Id" sfwDataType="int" />
      </parameters>
    </query>
    <query ID="CountOfRecordsInReviewStatus" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="Select Count(*)&#xD;&#xA;From&#xD;&#xA;SGS_Job_Detail (nolock) &#xD;&#xA;Where&#xD;&#xA; Job_Header_Id = @Job_Header_Id&#xD;&#xA; and Status_Value = 'REVW'&#xD;&#xA;">
      <parameters>
        <parameter ID="@Job_Header_Id" sfwDataType="int" />
      </parameters>
    </query>
    <query ID="CountOfStepsThatAreDuplicate" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="Select step_no From&#xD;&#xA;SGS_Job_Detail (nolock) &#xD;&#xA;Where Job_Header_Id = @Job_Header_Id&#xD;&#xA;Group By Step_No&#xD;&#xA;Having Count(Step_No) &gt; 1 &#xD;&#xA;">
      <parameters>
        <parameter ID="@Job_Header_Id" sfwDataType="int" />
      </parameters>
    </query>
    <query ID="CountOfRecordsForHeaderId" sfwQueryType="SelectQuery" sfwDataType="EntityTable" sfwSql="Select Count(1)&#xA;From&#xD;&#xA;SGS_Job_Detail (nolock) &#xD;&#xA;Where&#xD;&#xA; Job_Header_Id = @Job_Header_Id&#xD;&#xA;">
      <parameters>
        <parameter ID="@Job_Header_Id" sfwDataType="int" />
      </parameters>
    </query>
  </queries>
  <attributes>
    <attribute sfwValue="job_detail_id" sfwType="Column" sfwKeyNo="1" sfwIsIdentity="True" sfwDataType="int" sfwDBDataType="int" sfwIsNull="False" ID="JobDetailId" sfwIsSequence="False" sfwCaption="ID" />
    <attribute sfwValue="job_header_id" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="False" ID="JobHeaderId" sfwIsSequence="False" sfwCaption="Job Header Id" />
    <attribute sfwValue="step_no" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="False" ID="StepNo" sfwIsSequence="False" sfwCaption="Step No" />
    <attribute sfwValue="order_number" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="False" ID="OrderNumber" sfwIsSequence="False" sfwCaption="Order Number" />
    <attribute sfwType="Description" ID="StatusDescription" sfwCaption="Status" sfwValue="status_description" />
    <attribute sfwValue="status_id" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="False" ID="StatusId" sfwCodeID="6020" sfwIsSequence="False" sfwCaption="Status" />
    <attribute sfwValue="status_value" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="4" sfwIsNull="True" ID="StatusValue" sfwIsSequence="False" sfwCaption="Status" />
    <attribute sfwValue="start_time" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="datetime" sfwDBDataType="datetime" sfwIsNull="True" ID="StartTime" sfwIsSequence="False" sfwCaption="Start Time" />
    <attribute sfwValue="end_time" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="datetime" sfwDBDataType="datetime" sfwIsNull="True" ID="EndTime" sfwIsSequence="False" sfwCaption="End Time" />
    <attribute sfwValue="return_code" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="True" ID="ReturnCode" sfwIsSequence="False" sfwCaption="Return Code" />
    <attribute sfwValue="dependent_step_no" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="True" ID="DependentStepNo" sfwIsSequence="False" sfwCaption="Dependent Step No" />
    <attribute sfwValue="dependent_step_return_value" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="10" sfwIsNull="True" ID="DependentStepReturnValue" sfwIsSequence="False" sfwCaption="Dependent Step Return Value" />
    <attribute sfwType="Description" ID="OperatorDescription" sfwCaption="Operator" sfwValue="operator_description" />
    <attribute sfwValue="operator_id" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="False" ID="OperatorId" sfwCodeID="6021" sfwIsSequence="False" sfwCaption="Operator" />
    <attribute sfwValue="operator_value" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="4" sfwIsNull="True" ID="OperatorValue" sfwIsSequence="False" sfwCaption="Operator" />
    <attribute sfwValue="created_by" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="50" sfwIsNull="False" ID="CreatedBy" sfwIsSequence="False" sfwCaption="Created By" />
    <attribute sfwValue="created_date" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="datetime" sfwDBDataType="datetime" sfwIsNull="False" ID="CreatedDate" sfwIsSequence="False" sfwCaption="Created Date" />
    <attribute sfwValue="modified_by" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="string" sfwDBDataType="varchar" sfwLength="50" sfwIsNull="False" ID="ModifiedBy" sfwIsSequence="False" sfwCaption="Modified By" />
    <attribute sfwValue="modified_date" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="datetime" sfwDBDataType="datetime" sfwIsNull="False" ID="ModifiedDate" sfwIsSequence="False" sfwCaption="Modified Date" />
    <attribute sfwValue="update_seq" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="False" ID="UpdateSeq" sfwIsSequence="False" sfwCaption="Update Seq" />
    <attribute sfwValue="progress_percentage" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="True" ID="ProgressPercentage" sfwIsSequence="False" sfwCaption="Progress Percentage" />
    <attribute ID="objJobHeader" sfwType="Object" sfwEntity="entJobHeader" sfwValue="ibusJobHeader" />
    <attribute ID="objBatchSchedule" sfwType="Object" sfwEntity="entBatchSchedule" sfwValue="ibusBatchSchedule" />
    <attribute sfwType="Collection" sfwEntity="entJobParameters" ID="lstJobParameters" sfwValue="iclbJobParameters" />
    <attribute sfwType="Collection" sfwEntity="entJobParameters" ID="lstNonEditableJobParameters" sfwValue="iclbNonEditableJobParameters" />
    <attribute sfwValue="step_code" sfwType="Column" sfwKeyNo="0" sfwIsIdentity="False" sfwDataType="int" sfwDBDataType="int" sfwIsNull="True" ID="StepCode" sfwCaption="Step Code" />
  </attributes>
</entity>